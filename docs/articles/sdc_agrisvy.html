<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Speed up microdata anonymization process â€¢ agrisvyr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Speed up microdata anonymization process">
<meta property="og:description" content="agrisvyr">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">agrisvyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/agrisvyr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/agrisvy_data.html">Generate simulated FAO AgriSurvey Data</a>
    </li>
    <li>
      <a href="../articles/agrisvy_tutorials.html">Practical learning tutorials</a>
    </li>
    <li>
      <a href="../articles/aut_report.html">Automating SDC report generation</a>
    </li>
    <li>
      <a href="../articles/sdc_agrisvy.html">Speed up microdata anonymization process</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Speed up microdata anonymization process</h1>
            
      
      
      <div class="hidden name"><code>sdc_agrisvy.Rmd</code></div>

    </div>

    
    
<p>#Introduction</p>
<p>One of the main use of the <code>agrisvy</code> package is to
facilitate files and data management during anonymization of dataset,
spacially from household survey including agricultural survey</p>
<p>the package allow to create all the folders you need, it generate
initial,pre-populated, R scripts you need for deta pre-processing and
anonymization. It also generate an initial sample report in R markdown
format and contains function that appends the report during the
anonymizaion process.</p>
<p>This article shows howe to setup the anonymization files, folders,
scripts and reports.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">agrisvyr</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="agrisvy-object">Agrisvy object<a class="anchor" aria-label="anchor" href="#agrisvy-object"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">agrisvy</span> <span class="op">&lt;-</span> <span class="fu">agrisvyr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/createAgrisvy.html" class="external-link">createAgrisvy</a></span><span class="op">(</span></span>
<span>  svyName <span class="op">=</span> <span class="st">"Anual Agricultural survey (AAS) 2020"</span>,</span>
<span>  author <span class="op">=</span> <span class="st">"UBOS"</span>,</span>
<span>  language <span class="op">=</span> <span class="st">"en"</span>,</span>
<span>  workingDir <span class="op">=</span> <span class="st">"C:/Users/USER/OneDrive - Food and Agriculture Organization/agrisvyr_test/Uganda_2020/Anonymization"</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"C:/Users/USER/OneDrive - Food and Agriculture Organization/agrisvyr_test/Uganda_2020/2_Cleaned data"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">".dta"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># print(agrisvy)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-working-folders-filesscripts-and-report">Creating working folders, files,scripts and report<a class="anchor" aria-label="anchor" href="#creating-working-folders-filesscripts-and-report"></a>
</h2>
<p>there two main inputs here: the path to the folder wher the microdata
are located and the working directory for the aanonymization. All the
working folders and files will be created in the working directory.
However,the microdata can be in a different location. There are other
input such as the names of the folders (if we want to use another
language),the data type.</p>
<p>In order to facilitate the initial settings, we should create an
agrisvy object to store all this information once for all and then apply
the function <code><a href="../reference/setup_anonymization.html">setup_anonymization()</a></code> to the object to create
the folder and files.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># agrisvyr::setup_anonymization(agrisvy,overwrite = TRUE)</span></span></code></pre></div>
<p>Now let us see the different folders and files created in our
specified working directory</p>
<div class="section level3">
<h3 id="r-folder">
<code>_R</code> folder<a class="anchor" aria-label="anchor" href="#r-folder"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="st">"_R"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="varclassdiragrisvy-folder">
<code>varClassDir(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#varclassdiragrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">varClassDir</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="preprocscriptdiragrisvy-folder">
<code>preProcScriptDir(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#preprocscriptdiragrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">preProcScriptDir</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Template of the R script to be pre-populated</p>
</div>
<div class="section level3">
<h3 id="preprocdatadiragrisvy-folder">
<code>preprocDataDir(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#preprocdatadiragrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">preprocDataDir</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="anoscriptdiragrisvy-folder">
<code>anoScriptDir(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#anoscriptdiragrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">anoScriptDir</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Template of the anonymization to be used to pre-populate all
scripts</p>
</div>
<div class="section level3">
<h3 id="anodatadiragrisvy-folder">
<code>anoDataDir(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#anodatadiragrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">anoDataDir</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="anoreportdiragrisvy-folder">
<code>anoreportDir(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#anoreportdiragrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">anoreportDir</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="filedesdiragrisvy-folder">
<code>fileDesDir(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#filedesdiragrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">fileDesDir</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="infolossreportagrisvy-folder">
<code>infoLossReport(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#infolossreportagrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">infoLossReport</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tempfilediragrisvy-folder">
<code>tempfileDir(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#tempfilediragrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">tempfileDir</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="aobdiragrisvy-folder">
<code>aobDir(agrisvy)</code> folder<a class="anchor" aria-label="anchor" href="#aobdiragrisvy-folder"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/agrisvyr/man/showFolderTree.html" class="external-link">showFolderTree</a></span><span class="op">(</span><span class="va">agrisvy</span>,<span class="fu">aobDir</span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="inlining-data">Inlining data<a class="anchor" aria-label="anchor" href="#inlining-data"></a>
</h2>
<p>You have the possibility to inline data without opening the script of
the corresponding data.</p>
<p>First you need to archive all the datasets (saving them in the
agrisvy object)</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">agrisvyr</span><span class="fu">::</span><span class="fu"><a href="../reference/ArchiveCleanData.html">ArchiveCleanData</a></span><span class="op">(</span><span class="va">agrisvy</span><span class="op">)</span></span></code></pre></div>
<p>Let us inline one dataset</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://github.com/gluc/data.tree" class="external-link">data.tree</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/data.tree/man/as.Node.list.html" class="external-link">FromListSimple</a></span><span class="op">(</span><span class="va">agrisvy</span><span class="op">@</span><span class="va">cleanData</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ardata-fr.github.io/flextable-book/" class="external-link">flextable</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">agrisvy</span><span class="op">@</span><span class="va">cleanData</span><span class="op">$</span><span class="va">`Season 1_PH`</span><span class="op">$</span><span class="va">SEC2_V1_MEMBERS</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://davidgohel.github.io/flextable/reference/flextable.html" class="external-link">flextable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>It is possible to do the same for the pre-processed data and the
anonymized data with the functions <code><a href="../reference/ArchiveAnoData.html">ArchiveAnoData()</a></code> and
<code><a href="../reference/ArchiveProcData.html">ArchiveProcData()</a></code> respectively</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Amsata Niang.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
